<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>blog</title>
</head>
<style>
    #btn2,#btn3{
        border: 1px solid;
        background-color: white;
        box-shadow: 1px 1px;
        border-radius: 2px;
    }

</style>
<body>
    <input type="text" placeholder="请输入标题" id="title">
    <input type="text" placeholder="请输入标签，用逗号隔开" id="tags">
    <div id="div1">
        
    </div>
    <!-- <button id="btn1">获取html</button> -->
    <button id="btn2">提交</button>
    <!-- <button id="btn3">getJSON</button> -->
    
    <script type="text/javascript" src="./srcc/wangEditor.min.js"></script>
    <script src="./srcc/jquery.js"></script>
    <script type="text/javascript">
        var E = window.wangEditor
        var editor = new E('#div1')
        // editor.customConfig.uploadImgShowBase64 = true  //图片问题暂时没解决
        // editor.customConfig.uploadImgServer = '/upload'
        editor.create()
    
        // document.getElementById('btn1').addEventListener('click', function () {
        //     // 读取 html
        //     alert(editor.txt.html())
        // }, false)
        
        document.getElementById('btn2').addEventListener('click', function () {
            var title = document.getElementById("title").value;
            var tags = document.getElementById("tags").value;
            // 读取 text
            alert(editor.txt.html())
            
            var text = editor.txt.html()
            $.ajax({
            url: "/editBlog?title=" + title + "&tags=" + tags,
            method: "post",
            data: text,
            success: function(resp){
                console.log(resp)
            },
            error: function(resp){
                console.log(resp)
            }
        })
        }, false)

        // document.getElementById('btn3').addEventListener('click', function () {
        // var json = editor.txt.getJSON()  // 获取 JSON 格式的内容
        // var jsonStr = JSON.stringify(json)
        // console.log(json)
        // console.log(jsonStr)
        // })
    
    </script>
</body>
</html>
